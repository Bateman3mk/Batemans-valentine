<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Will you be my Valentine?</title>
<style>
  :root{
    --bg: linear-gradient(180deg,#fff0f6 0%, #ffe6f0 60%);
    --accent:#ff5c8a;
    --muted:#6b6b6b;
    --card-bg: rgba(255,255,255,0.85);
  }

  html,body{
    height:100%;
    margin:0;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: var(--bg);
    display:flex;
    align-items:center;
    justify-content:center;
  }

  .card{
    width: min(920px, 96vw);
    padding: 28px;
    border-radius: 18px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.08);
    background: var(--card-bg);
    display:flex;
    gap:20px;
    align-items: center;
    justify-content: space-between;
    position: relative;
    overflow: hidden;
  }

  .left {
    flex: 1 1 52%;
    padding-right: 10px;
  }

  h1{
    font-size: clamp(22px, 3.4vw, 36px);
    margin: 0 0 12px 0;
    color:#2b2b2b;
  }

  p.sub{
    margin:0 0 18px 0;
    color:var(--muted);
    font-size: 14px;
  }

  #cuteGif{
    width: 260px;
    height: 160px;
    object-fit: cover;
    border-radius: 12px;
    border: 3px solid rgba(255,255,255,0.6);
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    display:block;
  }

  .controls{
    display:flex;
    gap:20px;
    align-items:center;
    justify-content: center; /* center buttons horizontally */
    margin-top: 18px;
    position: relative;
    height: 84px; /* keeps area for runaway button */
    width: 100%;
  }

  button{
    cursor:pointer;
    border: none;
    border-radius: 12px;
    padding: 12px 22px;
    font-size: 18px;
    font-weight: 600;
    transition: all 220ms cubic-bezier(.2,.9,.3,1);
    box-shadow: 0 6px 18px rgba(0,0,0,0.06);
    user-select:none;
    z-index: 20; /* keep buttons visually on top */
  }

  #yes{
    background: linear-gradient(90deg,#ff9bb7,#ff5c8a);
    color: white;
    transform-origin: center;
  }

  #no{
    background: white;
    color: #ff3b6f;
    border: 2px solid #ffd7e3;
    position: absolute; /* we move it around */
    /* left/top will be set by JS to avoid conflicts with media rules */
    left: auto;
    top: auto;
    z-index: 25;
  }

  /* small visual effects */
  .shake {
    animation: shake 350ms;
  }

  @keyframes shake {
    0%{ transform: translateX(0) rotate(0deg); }
    25%{ transform: translateX(-6px) rotate(-2deg); }
    50%{ transform: translateX(6px) rotate(2deg); }
    75%{ transform: translateX(-3px) rotate(-1deg); }
    100%{ transform: translateX(0) rotate(0deg); }
  }

  .tooltip {
    background: rgba(0,0,0,0.75);
    color: white;
    padding:7px 10px;
    border-radius:8px;
    font-size:13px;
    display:inline-block;
    transform-origin: left center;
    margin-left: 12px;
  }

  /* modal-ish final screen */
  .final {
    position: absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    backdrop-filter: blur(2px) saturate(120%);
    background: linear-gradient(180deg, rgba(255,255,255,0.1), rgba(255,255,255,0.35));
    flex-direction:column;
    gap:12px;
    padding: 20px;
    text-align:center;
  }

  .final h2{ margin:0; font-size: clamp(24px, 4.2vw, 40px); color:#2b2b2b; }
  .final p{ color:var(--muted); margin:0; }

  /* confetti pieces */
  .confetti{
    position: absolute;
    width: 10px;
    height: 14px;
    opacity: 0.95;
    will-change: transform, top, left;
    border-radius: 2px;
    animation: fall var(--dur) linear forwards;
  }
  @keyframes fall{
    0%{ transform: translateY(-10vh) rotate(0deg); opacity:1; }
    100%{ transform: translateY(110vh) rotate(540deg); opacity:0.8; }
  }

  /* small mobile adjustments */
  @media (max-width:720px){
    .card{ flex-direction: column; align-items: center; }
    .left{ padding-right:0; text-align:center; }
    .controls{ justify-content:center; height: 100px; }
    #no{ position: absolute; left: 50%; transform: translateX(-50%); top: 84px; }
  }
</style>
</head>
<body>

<div class="card" id="card">
  <div class="left">
    <h1 id="question">Will you be my Valentine? üíò</h1>
    <p class="sub" id="sub">Pick one. but, choose wisely </p>

    <!-- placeholder cute gif ‚Äî replace src with an actual gif URL -->
    <img id="cuteGif" src="cute.gif" alt="cute gif placeholder" />

    <div class="controls" id="controls">
      <button id="yes">Yes ‚ù§Ô∏è</button>
      <button id="no">No </button>
      <div id="tooltipWrap" style="display:inline-block; margin-left:12px;"></div>
    </div>
  </div>

  <!-- right side (decorative or extra) -->
  <div style="flex:0 0 220px; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:8px;">
    <small style="color:var(--muted)">Pro tip: clicking <strong>No</strong> makes <strong>Yes</strong> bigger. oops.</small>
    <div style="width:120px; height:120px; border-radius:16px; background: linear-gradient(180deg,#ffffff,#ffeaf1); display:flex; align-items:center; justify-content:center; box-shadow: 0 8px 30px rgba(255,90,130,0.06); gap:8px; padding:8px;">
      <span style="font-size:34px">üåπ</span>
      <span lang="ar" dir="rtl" style="font-size:14px; color:#ff5c8a; font-weight:600;">ŸÇÿ®ŸÑÿßÿ™Ÿä</span>
    </div>
  </div>
  <footer style="text-align:center; margin-top:14px; color:var(--muted); font-size:13px;">say yes, pretty please?</footer>
</div>

<!-- audio placeholders -->
<audio id="violin" preload="auto">
  <!-- Replace src with your own violin clip url. Keep same filename or change the JS accordingly -->
  <source src="violin.mp3" type="audio/mpeg">
  Your browser does not support audio.
</audio>

<script>
  const YES_GROW_BY = 0.16;
  const NUM_CONFETTI = 80;

  const ARE_YOU_SURE_MSGS = [
"Are you really gonna do me like this? ü•∫üëâüëà",
"Nuh uh‚Ä¶ you‚Äôre not leaving me on read IRL too",
"babe please my heart rate is 143 bpm bc of u",
"Don‚Äôt make me start barking I stg",
"I‚Äôm literally shaking rn don‚Äôt do this",
"you‚Äôre one click away from breaking a simp",
"My therapist said you‚Äôre the problem",
"you‚Äôre about to make my search history so much worse",
"my palms are sweaty, knees weak, arms are heavy‚Ä¶",
"Yes button is literally throbbing rn",
"you‚Äôre one Yes away from getting choked in a loving way",
"you‚Äôre about to fumble God‚Äôs horniest soldier, big mistake",
"click Yes before I start moaning in hexadecimal",
"please I‚Äôm terminally down bad and unemployed",

  ];

  const yesBtn = document.getElementById('yes');
  const noBtn = document.getElementById('no');
  const question = document.getElementById('question');
  const sub = document.getElementById('sub');
  const tooltipWrap = document.getElementById('tooltipWrap');
  const card = document.getElementById('card');
  const cuteGif = document.getElementById('cuteGif');
  const violin = document.getElementById('violin');

  let yesScale = 1;
  let noClickCount = 0;

  const rand = (a,b) => Math.floor(Math.random()*(b-a+1))+a;

  function moveNoRandomly() {
    const controls = document.getElementById('controls');
    const controlsRect = controls.getBoundingClientRect();
    const yesRect = yesBtn.getBoundingClientRect();

    let x, y, tries = 0;

    do {
      x = rand(0, controlsRect.width - noBtn.offsetWidth);
      y = rand(0, controlsRect.height - noBtn.offsetHeight);
      tries++;

      const noLeft = controlsRect.left + x;
      const noTop = controlsRect.top + y;

      const overlap =
        noLeft < yesRect.right + 20 &&
        noLeft + noBtn.offsetWidth > yesRect.left - 20 &&
        noTop < yesRect.bottom + 20 &&
        noTop + noBtn.offsetHeight > yesRect.top - 20;

      if (!overlap) break;
    } while (tries < 30);

    // ensure any stylesheet 'right' or transforms don't conflict with absolute placement
    noBtn.style.right = 'auto';
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
    // clear translate used by mobile media rule to avoid overlap when JS controls position
    noBtn.style.transform = '';
    noBtn.classList.add("shake");
    setTimeout(() => noBtn.classList.remove("shake"), 300);
  }

  // make the 'no' button dodge the cursor more erratically
  (function setupNoDodge(){
    const controlsEl = document.getElementById('controls');
    let lastNoMove = 0;

    // Move away based on mouse position and proximity (gentler behavior)
    controlsEl.addEventListener('mousemove', (e) => {
      const now = Date.now();
      if (now - lastNoMove < 220) return; // debounce so it doesn't dart too often

      const noRect = noBtn.getBoundingClientRect();
      const dx = (noRect.left + noRect.width/2) - e.clientX;
      const dy = (noRect.top + noRect.height/2) - e.clientY;
      const dist = Math.hypot(dx, dy);
      const THRESHOLD = 120; // pixels - smaller zone so it waits longer before moving

      if (dist > THRESHOLD) return; // far enough

      // closer -> somewhat higher chance to dodge, but overall reduced probability
      const chance = 0.25 + (1 - dist/THRESHOLD) * 0.5;
      if (Math.random() > chance) return;

      lastNoMove = now;
      moveNoAwayFrom(e.clientX, e.clientY);
    });

    // keep old click behavior (still moves randomly on click)
  })();

  // move the no button away from the cursor with jitter and bias
  function moveNoAwayFrom(mouseX, mouseY){
    const controls = document.getElementById('controls');
    const controlsRect = controls.getBoundingClientRect();
    const yesRect = yesBtn.getBoundingClientRect();
    const noRect = noBtn.getBoundingClientRect();

    const noCenterX = noRect.left + noRect.width/2;
    const noCenterY = noRect.top + noRect.height/2;

    let dx = noCenterX - mouseX;
    let dy = noCenterY - mouseY;
    const len = Math.hypot(dx, dy) || 1;
    dx /= len; dy /= len;

    // prefer to move further when cursor is very close, but keep it reachable
    const moveDist = rand(80, 160);
    let x = (noRect.left - controlsRect.left) + dx * moveDist + rand(-28,28);
    let y = (noRect.top - controlsRect.top) + dy * moveDist + rand(-18,18);

    x = Math.max(0, Math.min(controlsRect.width - noBtn.offsetWidth, x));
    y = Math.max(0, Math.min(controlsRect.height - noBtn.offsetHeight, y));

    // avoid overlapping the yes button; fallback to random spots if necessary
    let tries = 0;
    while (tries < 12){
      const noLeft = controlsRect.left + x;
      const noTop = controlsRect.top + y;

      const overlap =
        noLeft < yesRect.right + 20 &&
        noLeft + noBtn.offsetWidth > yesRect.left - 20 &&
        noTop < yesRect.bottom + 20 &&
        noTop + noBtn.offsetHeight > yesRect.top - 20;

      if (!overlap) break;

      // pick a different jittered position
      x = rand(0, controlsRect.width - noBtn.offsetWidth);
      y = rand(0, controlsRect.height - noBtn.offsetHeight);
      tries++;
    }

    noBtn.style.right = 'auto';
    noBtn.style.left = x + 'px';
    noBtn.style.top = y + 'px';
    noBtn.style.transform = '';
    noBtn.classList.add('shake');
    setTimeout(() => noBtn.classList.remove('shake'), 300);
  }

  noBtn.addEventListener('click', (e)=>{
    e.preventDefault();
    noClickCount++;

    try {
      violin.currentTime = 0;
      violin.play();
    } catch {}

    yesScale += YES_GROW_BY;
    yesBtn.style.transform = `scale(${yesScale})`;

    const msg = ARE_YOU_SURE_MSGS[(noClickCount-1) % ARE_YOU_SURE_MSGS.length];
    question.textContent = msg;

    if (noClickCount === 5) yesBtn.textContent = "Yes üôÇ";
    if (noClickCount === 8) yesBtn.textContent = "YES üò≠";
    if (noClickCount === 12) yesBtn.textContent = "JUST CLICK ME";

    moveNoRandomly();
  });

  yesBtn.addEventListener('click', ()=>{
    fireConfetti();
    showFinalScreen();
  });

  function fireConfetti(){
    const colors = ['#FF6B9B','#FFD76B','#6BE0FF','#FFD1EA','#A5FF7A','#FF9B6B'];
    for(let i=0;i<NUM_CONFETTI;i++){
      const piece = document.createElement('div');
      piece.className = 'confetti';
      piece.style.left = `${rand(0,100)}%`;
      piece.style.top = `${-rand(4,12)}vh`;
      piece.style.background = colors[rand(0, colors.length-1)];
      piece.style.width = `${rand(6,12)}px`;
      piece.style.height = `${rand(8,16)}px`;
      piece.style.setProperty('--dur', `${(rand(1400,2600)/1000).toFixed(2)}s`);
      card.appendChild(piece);
      setTimeout(()=> piece.remove(), 3000);
    }
  }

  function showFinalScreen(){
    const final = document.createElement('div');
    final.className = 'final';
    final.innerHTML = `
      <h2>YAYYYYY üíñ</h2>
      <p>Best decision of your life.</p>
      <img src="rizz.gif" style="width:320px;border-radius:12px"/>
      <button onclick="location.reload()">Play again</button>
    `;
    card.appendChild(final);
  }

  window.onload = moveNoRandomly;
  // reposition the 'no' button if the window resizes or layout changes
  window.addEventListener('resize', () => {
    // small debounce
    clearTimeout(window._moveNoTimeout);
    window._moveNoTimeout = setTimeout(moveNoRandomly, 120);
  });
</script>

</body>
</html>